/*====*====*====*====*====*====*====*====*====*====*====*====*====*====*====*
  Copyright (c) 2013-2014, 2020-2021, 2023 Qualcomm Technologies, Inc.
  All Rights Reserved.
  Confidential and Proprietary - Qualcomm Technologies, Inc.
  =============================================================================*/
/*=============================================================================*/
/* DO NOT EDIT THIS FILE IF YOU DO NOT HAVE ACCESS TO SOURCE FOR IZAT BINARIES.
   THIS PROXY ACTS AS A LINK TO IZAT BINARIES.
   EDITING AND RECOMPILING THIS FILE WITHOUT RECOMPILING IZAT BINARIES
   CAN CAUSE UNKNOWN BEHAVIOR*/
/*=============================================================================*/

#include <LBSApiV02.h>
#include <IzatApiV02.h>
#include <LocApiProxy.h>
#include <loc_pla.h>

#ifdef _HAS_LOC_V02_
LocApiProxyV02 :: LocApiProxyV02(LBSApiV02 *lbsApi) :
    mLBSApi(lbsApi),
    mIzatApi(new IzatApiV02(this))
{
    LOC_LOGD("%s:%d]: LocApiProxyV02 created:%p, mLBSApi:%p, mIzatApi:%p, ",
             __func__, __LINE__, this, mLBSApi, mIzatApi);
}

LocApiProxyV02 :: ~LocApiProxyV02()
{
    delete mIzatApi;
}

int LocApiProxyV02 :: eventCb(locClientHandleType client_handle,
                          uint32_t loc_event_id,
                          locClientEventIndUnionType loc_event_payload)
{
    return mIzatApi->eventCb(client_handle, loc_event_id, loc_event_payload);
}

double LocApiProxyV02 :: getGloRfLoss(uint32_t left, uint32_t center,
                                      uint32_t right, uint8_t gloFrequency)
{
    return mIzatApi->getGloRfLoss(left, center, right, gloFrequency);
}

bool LocApiProxyV02 :: getSatellitePVT(GnssSvPolynomial& svPolynomial,
                                       GnssSvMeasurementHeader& svMeasSetHeader,
                                       GnssMeasurementsData& measurementData)
{
    return mIzatApi->getSatellitePVT(svPolynomial, svMeasSetHeader, measurementData);
}

bool LocApiProxyV02::checkFeatureStatus(int* fids, LocFeatureStatus* status,
        uint32_t idCount, bool directQwesCall) {
    return mIzatApi->checkFeatureStatus(fids, status, idCount, directQwesCall);
}

float LocApiProxyV02 :: getGeoidalSeparation(double latitude, double longitude)
{
    return mIzatApi->getGeoidalSeparation(latitude, longitude);
}

#endif //_HAS_LOC_V02_

#ifdef _HAS_LOC_RPC_
LocApiProxyRpc :: LocApiProxyRpc(LBSApiRpc *lbsApi) :
    mLBSApi(lbsApi),
    mIzatApi(new IzatApiRpc(this))
{
    LOC_LOGD("%s:%d]: LocApiProxyRpc created:%p, mLBSApi:%p, mIzatApi:%p, ",
             __func__, __LINE__, this, mLBSApi, mIzatApi);
}

LocApiProxyRpc :: ~LocApiProxyRpc()
{
    delete mIzatApi;
}

int LocApiProxyRpc :: locEventCB(rpc_loc_client_handle_type handle,
                                 rpc_loc_event_mask_type event,
                                 const rpc_loc_event_payload_u_type* payload)
{
    return mIzatApi->locEventCB(handle, event, payload);
}
#endif //_HAS_LOC_RPC_
